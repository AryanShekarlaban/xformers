Search.setIndex({docnames:["components/attentions","components/feedforward","components/index","components/mha","components/position_embedding","components/reversible","factory/block","factory/index","factory/model","index","tools/index","triton/index","tutorials/extend_attentions","tutorials/index","tutorials/pytorch_encoder","tutorials/reversible","tutorials/sparse_vit","tutorials/triton","tutorials/use_attention","what_is_xformers"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,"sphinx.ext.viewcode":1,sphinx:56},filenames:["components/attentions.rst","components/feedforward.rst","components/index.rst","components/mha.rst","components/position_embedding.rst","components/reversible.rst","factory/block.rst","factory/index.rst","factory/model.rst","index.rst","tools/index.rst","triton/index.rst","tutorials/extend_attentions.rst","tutorials/index.rst","tutorials/pytorch_encoder.rst","tutorials/reversible.rst","tutorials/sparse_vit.rst","tutorials/triton.rst","tutorials/use_attention.rst","what_is_xformers.rst"],objects:{xformers:{triton:[11,0,0,"-"]}},objnames:{"0":["py","module","Python module"]},objtypes:{"0":"py:module"},terms:{"1024":[14,17,18],"128":17,"133":17,"136":17,"149":17,"153":17,"164":17,"168":17,"170":17,"192":17,"193":17,"196":17,"2017":15,"2020":15,"2021":17,"203":17,"204":17,"2048":[14,17],"205":17,"206":17,"207":17,"211":17,"213":17,"215":17,"218":17,"220":17,"224":[16,17],"229":17,"234":17,"247":17,"251":17,"252":17,"254":17,"255":17,"256":17,"257":17,"258":17,"263":17,"264":17,"265":17,"266":17,"271":17,"273":17,"284":17,"285":17,"289":17,"290":17,"291":17,"294":17,"295":17,"301":17,"307":17,"3136":17,"341":17,"384":[14,17,18],"399":17,"4096":17,"496":17,"501":17,"512":[14,17],"522":17,"524":17,"534":17,"537":17,"541":17,"543":17,"545":17,"553":17,"555":17,"558":17,"570":17,"597":17,"601":17,"606":17,"615":17,"636":17,"650":17,"660":17,"669":17,"678":17,"682":17,"696":17,"702":17,"712":17,"716":17,"736":17,"744":17,"748":17,"760":17,"775":17,"777":17,"780":17,"784":17,"789":17,"796":17,"799":17,"809":17,"814":17,"\u0142":15,"boolean":15,"break":19,"case":[16,17,18],"class":[12,15],"default":12,"float":12,"function":[15,16],"import":[14,16,17,18],"int":[12,15],"new":[12,18,19],"return":16,"short":17,"true":[12,14,15,17],"while":14,And:19,Doing:12,Its:15,One:15,PRs:19,That:18,The:[7,12,14,15,16,17,18],Their:14,There:[12,14,17,18],Using:[9,13],__init__:[12,15],ablat:19,abov:[15,16],accept:12,accuraci:15,across:19,activ:[14,15,17],actual:17,adapt:15,add_modul:16,affect:15,against:19,agnost:19,aim:19,all:[9,12,13,15,17,18,19],allow:[18,19],alon:19,along:17,alreadi:[14,16],also:[12,15,17,19],alter:16,altern:[16,18],although:18,amp:17,ani:[12,16,17,19],anoth:15,anyth:19,anytim:19,api:[9,18],appli:[12,15],applic:[12,15,17],architectur:[12,18,19],arg:12,arg_rout:15,argument:12,art:[9,19],aspect:16,att_mask:16,attent:[2,9,12,13,14,15],attention_nam:18,attention_pattern:16,attention_query_mask:18,attentionconfig:12,attn_mask:16,autograd:17,automat:[12,19],avail:17,awar:[16,17],backend:17,backpropag:15,base:[9,12,13,16,18],batch:[12,18],batch_first:14,batch_submit:12,becom:[15,18],being:[17,19],benchmark:[7,12,14,19],benefit:15,better:17,between:15,bia:17,block:[7,9,12,13,14,19],block_config:[14,15],block_typ:14,bool:[12,15],both:12,bruegger:15,build:[9,15,18,19],build_attent:18,built:18,call:12,can:[9,12,14,15,16,17,18,19],cannot:19,capabl:17,care:14,causal:[12,14],chang:14,check:[14,16],checkpo:12,checkpoint:15,child:16,chunk:15,clear:16,close:[14,15],closer:16,cluster:12,code:[12,17,18],combin:[9,15,18],commun:15,compar:[15,17,19],compat:[15,17],compil:17,complet:[7,15,18],compon:[9,12,15,16,18],compos:19,comput:15,config:[12,14],config_path:12,configur:12,consid:[12,15,16],consolid:17,constitut:14,construct:12,constructor:12,context:15,conv_kernel_s:12,correspond:17,cost:15,could:14,coupl:[12,14,17],creat:9,crowd:19,cuda:[16,17],current:17,custom_decod:14,custom_encod:14,d_model:14,data:18,dataclass:12,ddp:15,deal:15,declar:14,decod:14,dedic:12,def:[12,15,16],defer:18,defin:[12,15,16,19],definit:18,del:16,depend:18,depth:16,design:19,detail:15,develop:7,devic:[14,18],dict:18,differ:[12,14,15],dim:[15,16],dim_feedforward:14,dim_model:[14,18],dimens:[14,17,18],directli:[12,17,18],dispatch:18,distribut:15,doe:15,doesn:14,domain:19,done:12,drop:17,dropout:[12,14,18],dtype:14,dummi:18,each:[17,19],easi:19,easili:[18,19],effect:15,effici:15,effort:19,either:[17,18],embed:[2,9],embed_dim:16,enabl:[12,17],encod:[9,13],encodinhg:14,engin:19,entir:14,equival:[9,13],even:12,everi:19,everyth:18,exact:[12,14],exactli:15,exampl:[16,17],exchang:16,exhaust:16,exhibit:16,exist:[9,13],expect:[17,18],experi:16,explicitli:12,expos:[12,14,15,16,18],extend:[9,13,19],extens:[12,19],extra:[12,15,16],f_arg:15,factori:[9,14,15],fairli:14,fals:[12,14,15,16,17],famili:17,fast:19,faster:17,feedforward:[2,9,15],feedforward_config:14,field:[12,19],file:18,fine:18,first:15,flag:18,flexibl:[9,14,19],float16:17,float32:17,focu:19,focus:19,follow:[12,14,15,16,17,19],fork:12,formul:15,forward:[12,15],fp16:17,free:15,from:[9,12,13,14,15,17,18],from_config:14,fusedlinearlay:17,fututur:14,g_arg:15,get:[15,16,17],given:[12,16,18,19],glr:17,goal:17,gomez:15,good:16,gpu:[15,17],gross:15,happen:19,has:14,have:[9,13,16],head:[2,9,15,18],heavi:19,help:15,helper:[15,16,18],here:[9,13,14],hidden_layer_multipli:14,hoc:17,hopefulli:18,host:[9,13],how:[16,17],html:17,http:17,idea:16,ideal:19,imag:16,img_siz:16,implement:15,improv:19,in_featur:17,includ:15,increas:[15,17],inform:12,inherit:12,initi:18,input:[15,18],inspir:19,instanc:[12,14],instanti:[14,18],interest:[9,13],interfac:[12,14,17],intern:18,interoper:[9,19],inv_iter:12,isinst:16,jit:17,job:12,json:12,just:[16,17],kaiser:15,kernel:17,kitaev:15,knob:14,kwarg:[12,15],landmark_pool:12,lang:17,languag:17,larg:15,last:17,layer:[2,9,13,14,15],layer_norm_ep:14,layer_norm_styl:14,layernorm:16,least:12,less:15,let:[12,16],levskaya:15,librari:[9,19],lightli:15,like:[12,14,15,16,17,18],limit:17,line:17,linform:14,list:14,littl:[14,18],local:[12,19],log:[12,17],log_softmax:17,look:14,loos:12,lot:18,lra:[12,14],lsh:15,lucidrain:15,made:15,mai:16,main:15,make:[14,15,17,18],mani:17,manual:16,mask:[16,18],mean:[14,15,19],measur:[17,19],mechan:[2,9,12,13,14,16],memori:[14,15],mha:15,mind:16,minim:16,mlp:[14,15],mlp_ratio:16,model:[7,9,13,14,15,18,19],model_factori:[14,15],modul:[12,15,16],module_output:16,modulelist:15,monkei:16,more:[12,14,15,16,18,19],moreov:15,mostli:14,move:19,multi:[2,9,15,18],multi_head:18,multi_head_config:14,multihead:18,multiheaddispatch:18,multipl:15,my_component_nam:12,my_config:[14,18],my_fancy_mask:16,my_linear_lay:17,name:[12,14,16,18],named_children:16,natur:15,need:[12,14,15],network:15,nhead:14,non:17,none:[12,14,17],norm:15,norm_lay:16,note:[14,15,16],notebook:16,now:[12,16],num_decoder_lay:14,num_encoder_lay:14,num_head:[12,14,16,18],num_landmark:12,num_lay:[14,15],number:[15,17],nvidia:17,nystrom:12,nystromattent:12,nystromselfattentionconfig:12,object:14,obscur:18,one:[12,15,16,19],onli:[9,13,17],open:[12,15],oper:17,operand:17,optim:[9,17,19],option:[7,9,12,14,15],order:12,org:17,origin:15,other:[12,15,16,17,19],our:16,out:[9,13],out_featur:17,output:[15,16],over:17,own:18,paper:[12,15],parallel:17,paramet:[16,18],part:[9,13,14],particular:16,pass:15,patch:16,patch_siz:16,path:[12,15,18],pattern:16,perform:17,pick:12,pinverse_original_init:12,pleas:[15,16],point:[12,17],posit:[2,9,14],position_encoding_config:14,possibl:[17,18],post:14,practic:[12,16],pre:14,precis:16,primarli:7,primit:17,privat:12,probabl:14,process:15,produc:15,program:17,programat:18,progress:12,propos:[15,16,17,19],provid:[17,18],pure:[14,17],purpos:7,pytest:12,python3:12,python:17,pytorch:[9,13,16,17],qkv:16,qkv_bia:16,rand:18,readm:12,realli:19,recommend:12,recov:15,recurs:16,refer:[9,16,19],reform:15,regist:12,register_attent:12,registr:12,relat:15,relev:[12,19],relu:[14,17],remark:12,remind:12,ren:15,repeat:14,replac:[9,13,17],replace_attn_with_xformers_on:16,repo:19,repositori:[15,16],requir:[12,15],requires_head_dimens:18,residu:15,residual_dropout:[14,18],reus:[16,19],revers:[2,9,13,14],reversibleblock:15,reversiblesequ:15,robin:15,rout:15,run_task:12,sai:16,same:[12,14,15],save:[14,15],scaleddotproduct:16,search:[18,19],see:15,self:[12,15],sens:14,septemb:17,seq:18,seq_len:[14,18],sequenc:[14,15,17,18],sequenti:15,serv:17,set:[14,15],sever:16,shape:16,share:12,should:[15,18],show:16,sigmoid:17,similar:[17,18],similarli:15,simpli:17,sinc:19,skip:17,slurm:12,snipper:16,snippet:12,some:[9,15,16,17,18],somebodi:19,someth:[12,14,15,18],sourc:[16,19],spars:[9,13],sparsifi:16,sparsiti:16,specif:19,sphx:17,squared_relu:17,stack:15,start:17,state:[9,19],store:15,straightforward:18,studi:19,submit:12,support:[16,17],suppos:16,sure:18,sweep:18,take:[15,16,18],taken:14,task:12,tensor:[12,15,16,17],tent:19,test:[9,12,13,19],tflop:17,than:[14,15,17],thei:[7,9],them:[12,15,17],thi:[12,14,15,16,17,18,19],thing:12,think:14,three:12,through:[14,19],throughput:17,ties:12,time:[14,17],timm:16,timmattentionwrapp:16,too:19,tool:[9,12],toolbox:12,toolchain:17,torch:[12,15,16,17,18],tradeoff:15,tranform:17,transform:[9,13,16,17,19],transformerencod:14,transformerencoderlay:14,translat:16,trigger:12,triton:[9,13],turn:[14,15,18],tutori:[9,17],two:[15,17,18],type:[12,14],typic:[16,17],union:15,unit:[12,17],unrel:15,urtasun:15,use:[15,16,17,18],use_razavi_pinvers:12,usecas:17,used:[9,12,13,16,17],useful:12,using:[15,17],v100:17,v_skip_connect:12,valu:19,variant:[12,19],variat:16,vaswani:15,veri:[15,17,18],verifi:15,via:15,vision_transform:16,visiontransform:16,vit:[9,13],vocab:14,vocab_s:14,want:[12,16],weight:16,welcom:19,well:16,were:7,whatev:14,when:[15,16,17],whether:[15,18],which:[9,12,14,15,16,17,18,19],without:15,work:[12,16,18],world_siz:12,would:[12,14,16,18],wrap:15,xformer:[13,14,15,16,17,18],xformerconfig:14,xformerdecoderconfig:15,xformerencoderconfig:15,xformerstackconfig:15,yet:15,you:[9,12,13,15,16,17,18,19],your:[12,15,18],zoo:[9,13,19]},titles:["Attention mechanisms","Feedforward mechanisms","API Reference","Multi Head Attention","Position Embeddings","Reversible layer","Block factory","Factory","Model factory","Welcome to xFormers\u2019s documentation!","Tools","Triton components reference","Extend the xFormers parts zoo","Tutorials","I\u2019m used to PyTorch Transformer Encoder, do you have an equivalent ?","Using the Reversible block","Replace all attentions from an existing ViT model with a sparse equivalent ?","Using Triton-based layers","I\u2019m only interested in testing out the attention mechanisms that are hosted here","What is xFormers?"],titleterms:{Using:[15,17],all:16,api:2,attent:[0,3,16,18],base:17,block:[6,15],compon:11,document:9,embed:4,encod:14,equival:[14,16],exist:16,extend:12,factori:[6,7,8],feedforward:1,from:16,fuse:17,have:14,head:3,here:18,host:18,interest:18,intro:15,layer:[5,17],linear:17,mechan:[0,1,18],model:[8,16],multi:3,onli:18,out:18,part:12,posit:4,practic:15,pytorch:14,refer:[2,11],replac:16,revers:[5,15],softmax:17,spars:16,test:18,tool:10,transform:[14,15],triton:[11,17],tutori:13,used:14,vit:16,welcom:9,what:19,xformer:[9,12,19],you:14,zoo:12}})